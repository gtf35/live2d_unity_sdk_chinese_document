# 「Live2D Unity 文档翻译」使用表情功能

本文翻译自：https://docs.live2d.com/cubism-sdk-tutorials/expression

译者注：注意！这并不是一篇严谨的翻译，本人并不是翻译行业从业者，也根本不会日文。官网的中文翻译会连带代码一起翻译，而且还不如机翻日文，官网的英语翻译版本有的语法很奇怪，看起来也是机翻。本文主要来自日文机翻，然后再结合实际开发经验调整到通顺，修改不该翻译的东西并润色。

[最后更新日期: 2019/09/04] 译者注：这是这个日文原文的更新日期



本页介绍在 Cubism 模型中使用「Expression」再现面部表情的过程。

假设在项目中已经实现 [ [导入 SDK-放置模型 ](https://docs.live2d.com/cubism-sdk-tutorials/getting-started/)] 「[UpdateController的设置](https://docs.live2d.com/cubism-sdk-tutorials/updatecontroller/)」「[ParameterStore的设置](https://docs.live2d.com/cubism-sdk-tutorials/parameterstore/)」。



# 摘要

要在 Live2D Cubism SDK for Unity 中播放拓展名为 `.exp3.json` 的表情文件，需要使用一个名为 `Expression` 的组件。

如果在 Unity 编辑器菜单中选中「Live2D/Cubism/OrignalWorkflow/Should Import As Original Workflow」导入的模型的话，生成的`Prefab` 将自动设置 `Expression`。

要在不是通过 OW 方法生成的 `Prefab ` 上设置 `Expression`，请执行以下三个步骤。

1. 附加 `CubismExpressionController`
2. 指定 `[模型名称].expressionList`
3. 指定要播放的表情



## 1. 附加 `CubismExpressionController`

将 `CubismExpressionController` 附加到模型所在的 GameObject 上。

![img](https://docs.live2d.com/wp-content/uploads/2019/03/expression_attach.png)



![img](https://docs.live2d.com/wp-content/uploads/2019/03/expression_attached.png)

`CubismExpressionController`有两个设置项。

- Expression List: 设置 `模型名称.expressionList`  ※详细信息在步骤 2 中进行说明。
- Current Expression Index: 指定要播放的面部表情的索引  ※步骤3中有详细说明。

## 2.指定 `[模型名称].expressionList`

选择模型，然后将 `[模型名称] .expressionList` 从「层级/Inspector」视图拖放到 `CubismExpressionController` 的 `Expression List`

![img](https://docs.live2d.com/wp-content/uploads/2019/03/set_expressionList.png)

※ 「 `[模型名称] .expressionList` 」是 「.exp3」的集合。

※  `.Exp`文件是存储 Expression 数据的文件。导入`.exp3.json` 时会自动生成。

## 3.设置要播放的表情

将要播放的 `Expression` 的索引设置为 CubismExpressionController 的 「Current Expression Index」。这次将其设置为 0。

这样就完成了从 `exp3` 文件（`exp3.json` 生成的）播放面部表情。

如果在这种状态下运行场景，则将播放 `[模型名称] .expressionList` 的第 0 个表情。

您可以通过修改 `Current Expression Index` 来切换播放的表情。

※  如果设置了 `[型号名称] .expressionList` 里面不存在的索引，则将播放默认表情。